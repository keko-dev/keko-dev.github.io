<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>openstack</title>
    <link href="/2026/02/06/oenstack%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2026/02/06/oenstack%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<p>一、OpenStack 是什么？</p><pre><code class="hljs">    OpenStack = 开源的 “云操作系统”，用来搭建和管理私有云 / 混合云。</code></pre><p>二、操作系统选择</p><pre><code class="hljs">  CentOS 7.9 是 CentOS 7 的最终稳定版    #我下载的是CentOS-7-x86_64-Minimal-2009.iso 就是 **CentOS 7.9 的最小化安装镜像**，它是官方发布的正式稳定版。</code></pre><ul><li>CentOS 7 系列最后一个版本就是 <strong>7.9.2009</strong>，官方不再更新 7.x 小版本。</li><li>意味着：<ul><li>没有后续小版本升级带来的兼容性风险</li><li>所有补丁、bugfix 都已收敛到这个版本</li><li>社区 &#x2F; 厂商都基于这个版本做验证、镜像、部署工具</li></ul></li></ul><p>这对 OpenStack 这种<strong>组件多、依赖复杂</strong>的平台非常关键。</p><p>三、部署操作系统</p><pre><code class="hljs">  我使用的是vmware下班之后学习使用  1.去镜像仓库（阿里云镜像仓库或者清华镜像仓库）下载好你想要部署的版本  2.打开vmware，自己创建个虚拟机  3.vmnet8注意选择NAT模式 子网和掩码都需要注意，iso位置指定你下载的镜像位置（就是你把下载的镜像放在那个位置了）  4.因为是最小安装，里面大部分服务都没有。只有最基本的命令。默认用vi进行编辑  5.进去之后页面不友好，首先部署sshd进行远程连接，使用xshell连接到虚拟机</code></pre><p>四、yum无法使用的情况下</p><pre><code class="hljs">      .yun源配置+wget    （无法连接外网的情况下是curl不到阿里云的）</code></pre><h1 id="1-配置公共DNS（确保域名解析正常）"><a href="#1-配置公共DNS（确保域名解析正常）" class="headerlink" title="1. 配置公共DNS（确保域名解析正常）"></a>1. 配置公共DNS（确保域名解析正常）</h1><p>echo “nameserver 223.5.5.5” &gt; &#x2F;etc&#x2F;resolv.conf<br>echo “nameserver 8.8.8.8” &gt;&gt; &#x2F;etc&#x2F;resolv.conf</p><h1 id="2-进入yum源目录并备份旧配置"><a href="#2-进入yum源目录并备份旧配置" class="headerlink" title="2. 进入yum源目录并备份旧配置"></a>2. 进入yum源目录并备份旧配置</h1><p>cd &#x2F;etc&#x2F;yum.repos.d&#x2F; &amp;&amp; mkdir -p backup &amp;&amp; mv *.repo backup&#x2F;</p><h1 id="3-下载阿里云CentOS7-yum源（带-k参数跳过SSL检查，避免证书问题）"><a href="#3-下载阿里云CentOS7-yum源（带-k参数跳过SSL检查，避免证书问题）" class="headerlink" title="3. 下载阿里云CentOS7 yum源（带-k参数跳过SSL检查，避免证书问题）"></a>3. 下载阿里云CentOS7 yum源（带-k参数跳过SSL检查，避免证书问题）</h1><p>curl -k -o CentOS-Base.repo <a href="https://mirrors.aliyun.com/repo/Centos-7.repo">https://mirrors.aliyun.com/repo/Centos-7.repo</a><br>#不通的情况下关闭防火墙 &#x2F; SELinux<br>        临时关闭防火墙测试：systemctl stop firewalld<br>        临时关闭 SELinux：setenforce 0<br>        再重新执行curl命令。</p><h1 id="4-替换版本变量并清理、生成缓存"><a href="#4-替换版本变量并清理、生成缓存" class="headerlink" title="4. 替换版本变量并清理、生成缓存"></a>4. 替换版本变量并清理、生成缓存</h1><p>sed -i ‘s&#x2F;$releasever&#x2F;7&#x2F;g’ CentOS-Base.repo<br>yum clean all &amp;&amp; yum makecache</p><h1 id="5-安装wget"><a href="#5-安装wget" class="headerlink" title="5. 安装wget"></a>5. 安装wget</h1><p>yum -y install wget –nogpgcheck</p><h1 id="验证安装结果"><a href="#验证安装结果" class="headerlink" title="验证安装结果"></a>验证安装结果</h1><p>wget –version</p><p>#是否ping通 测试外网连接性<br>ping mirrors.aliyun.com -c 3   #如果能正常解析域名并 ping 通，就说明网络 + yum 源完全可用了</p><p>#下载常用命令<br>yum install -y <br>wget curl <br>net-tools tcpdump telnet <br>vim htop iotop iftop sysstat lsof <br>bind-utils nmap <br>yum-utils createrepo <br>psmisc tree ncdu</p><p>五、openstack官网<br><a href="https://www.openstack.org/">https://www.openstack.org/</a></p>]]></content>
    
    
    <categories>
      
      <category>openstack</category>
      
    </categories>
    
    
    <tags>
      
      <tag>openstack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mysql-io异常</title>
    <link href="/2026/01/17/io%E5%BC%82%E5%B8%B8/"/>
    <url>/2026/01/17/io%E5%BC%82%E5%B8%B8/</url>
    
    <content type="html"><![CDATA[<p>1）IO线程异常：connecting&#x2F;no<br>connecting：始终无法实现主从建立连接</p><ul><li>连接地址、端口、用户、密码信息不对可能会导致连接异常；</li><li>防火墙安全策略阻止连接建立、网络通讯配置异常影响连接建立；</li><li>到达数据库服务连接数上限，造成主从连接产生异常；</li></ul><p>⭐⭐⭐出现2003错误⭐⭐⭐<br>Last_IO_Errno: 2003<br>Last_IO_Error: error connecting to master ‘<a href="mailto:&#114;&#x65;&#112;&#108;&#x40;&#49;&#x30;&#x2e;&#48;&#x2e;&#48;&#x2e;&#x35;&#49;">&#114;&#x65;&#112;&#108;&#x40;&#49;&#x30;&#x2e;&#48;&#x2e;&#48;&#x2e;&#x35;&#49;</a>:3306’ - retry-time: 10 retries: 3 message: Can’t connect to MySQL server on ‘10.0.0.51:3306’ (111)<br>mysql -urepl -p123456 -h10.0.0.51 -P3306<br>mysql: [Warning] Using a password on the command line interface can be insecure.<br>ERROR 2003 (HY000): Can’t connect to MySQL server on ‘10.0.0.51:3306’ (111)<br>###解决办法<br>#先停掉  从数据库<br>stop slave;<br>#进入从数据库<br>reset slave all;                        – 清除主从配置信息<br>#进入从数据库<br>select * from mysql.slave_master_info;  – 显示内容为空<br>#在db02中输入   用户  binlog的位置  同步  </p><p>CHANGE MASTER TO<br>MASTER_HOST&#x3D;’10.0.0.51’,<br>MASTER_PORT&#x3D;3306,<br>MASTER_USER&#x3D;’repl’,<br>MASTER_PASSWORD&#x3D;’123456’,<br>MASTER_LOG_FILE&#x3D;’mysql-bin.000035’,    — 同步位置获取正确<br>MASTER_LOG_POS&#x3D;357,                    — 同步位置获取正确<br>MASTER_CONNECT_RETRY&#x3D;10;</p><p>mysql&gt; start slave ;       —启动一下<br>mysql&gt; show slave status\G;  —查看一下<br>⭐⭐⭐连接数自己该多少自己看着办⭐⭐⭐<br>max_connections   — 表示数据库默认会话连接上限（151）（2000-3000-硬件性能高  500-1000-硬件性能低）         #连接数自己该多少自己看着办<br>Last_IO_Errno: 1040<br>Last_IO_Error: error connecting to master ‘<a href="mailto:&#x72;&#x65;&#112;&#x6c;&#x40;&#49;&#x30;&#46;&#48;&#x2e;&#48;&#x2e;&#x35;&#49;">&#x72;&#x65;&#112;&#x6c;&#x40;&#49;&#x30;&#46;&#48;&#x2e;&#48;&#x2e;&#x35;&#49;</a>:3307’ - retry-time: 10 retries: 1 message: Too many connections   ###达到连接上限<br>###解决办法:<br>自己改达到连接上限</p><h2 id="IO线程异常no：不能接收binlog-不能保存binlogIO线程异常：可能导致异常原因：-IO线程在请求日志信息失败，有可能日志信息被无意清理了；-IO线程在请求日志信息失败，有可能主从配置的标识信息重复冲突了；（server-id-server-uuid）"><a href="#IO线程异常no：不能接收binlog-不能保存binlogIO线程异常：可能导致异常原因：-IO线程在请求日志信息失败，有可能日志信息被无意清理了；-IO线程在请求日志信息失败，有可能主从配置的标识信息重复冲突了；（server-id-server-uuid）" class="headerlink" title="IO线程异常no：不能接收binlog 不能保存binlogIO线程异常：可能导致异常原因：- IO线程在请求日志信息失败，有可能日志信息被无意清理了；- IO线程在请求日志信息失败，有可能主从配置的标识信息重复冲突了；（server_id  &#x2F; server_uuid）"></a>IO线程异常<br>no：不能接收binlog 不能保存binlog<br>IO线程异常：<br>可能导致异常原因：<br>- IO线程在请求日志信息失败，有可能日志信息被无意清理了；<br>- IO线程在请求日志信息失败，有可能主从配置的标识信息重复冲突了；（server_id  &#x2F; server_uuid）</h2>]]></content>
    
    
    <categories>
      
      <category>运维</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>数据库出现13314</title>
    <link href="/2026/01/17/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%BA%E7%8E%B013314/"/>
    <url>/2026/01/17/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%87%BA%E7%8E%B013314/</url>
    
    <content type="html"><![CDATA[<p>⭐⭐⭐出现13114错误⭐⭐⭐<br>Last_IO_Errno: 13114<br>Last_IO_Error: Got fatal error 1236 from master when reading data from binary log: ‘Could not open log file’<br>恢复主库binlog文件信息<br>⭐⭐⭐出现13117错误⭐⭐⭐<br>Last_IO_Errno: 13117<br>Last_IO_Error: Fatal error: The slave I&#x2F;O thread stops because master and slave have equal MySQL server ids;<br>               these ids must be different for replication to work (or the –replicate-same-server-id option must be used on slave but this does not always make sense; please check the manual before using it).<br>Last_IO_Errno: 13117<br>Last_IO_Error: Fatal error: The slave I&#x2F;O thread stops because master and slave have equal MySQL server UUIDs;<br>               these UUIDs must be different for replication to work.<br>###解决办法:uuid重复了<br>把从数据库删除uuid  \rm -f auto.cnf<br>重新启动一下数据库   会自动生成新的uuid文件</p><p>[root@db02:~]# vim &#x2F;etc&#x2F;my.cnf<br>[mysqld]<br>basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql<br>datadir&#x3D;&#x2F;data&#x2F;3306&#x2F;data<br>socket&#x3D;&#x2F;tmp&#x2F;mysql.sock<br>server_id&#x3D;52</p>]]></content>
    
    
    <categories>
      
      <category>运维</category>
      
    </categories>
    
    
    <tags>
      
      <tag>mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>docker命令大全</title>
    <link href="/2025/05/02/docker%E5%91%BD%E4%BB%A4/"/>
    <url>/2025/05/02/docker%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<p>镜像的基础管理: *****</p><ul><li><p>docker image ls 镜像名字            #查看镜像列表</p></li><li><p>docker image rm 镜像名字            #删除镜像 -f强制删除</p></li><li><p>docker image pull </p></li><li><p>docker image save   -o  包的名字  镜像名字 #导出镜像</p></li><li><p>docker image save    -o            #指定文件</p></li><li><p>docker image save    &gt;             #到处 通常和-o使用 </p></li><li><p>docker image save -i               #指定了输入文件</p></li><li><p>docker image load  &lt;   镜像名字     #导入镜像 </p></li><li><p>docker rmi 251c1ce49450            #删除特定的 <none> 镜像</p></li><li><p>容器的基础命令: *****</p></li><li><p>docker container create          #创建容器</p></li><li><p>docker container create –name   #指定容器名字            </p></li><li><p>docker container start           #启动容器</p></li><li><p>docker container stop            #关闭容器</p></li><li><p>docker container restart         #重启容器</p></li><li><p>docker container pause           #暂停一个或多个运行中的 Docker 容器</p></li><li><p>docker container unpase          #恢复之前被暂停的 Docker 容器</p></li><li><p>docker container ps              #列出当前运行的 Docker 容器</p></li><li><p>docker container ps -a           #列出所有 Docker 容器</p></li><li><p>docker container ps -l           #显示最近创建的一个容器的信息</p></li><li><p>docker container ps -q           #列出所有正在运行的 Docker 容器的容器 ID</p></li><li><p>docker container run             #用于创建并启动一个新的 Docker 容器</p></li><li><p>docker container run    –name   #用于为新创建的 Docker 容器指定一个名称</p></li><li><p>docker container run    -i       # 命令用于以交互模式启动一个 Docker 容器</p></li><li><p>docker container run    -t       #命令用于为 Docker 容器分配一个伪终端</p></li><li><p>docker container run    -e       # 用于在启动 Docker容器时   通常用于配置或传递参数</p></li><li><p>docker container run  -p 宿主机端口:容器端口 # 将容器内部的端口映射到主机的端口</p></li><li><p>docker container run  -d         # 容器将在后台运行，而不是在当前终端窗口中占用控制权</p></li><li><p>docker container run -w  路径      #着当你在容器内运行命令时，默认的当前目录将是你指定的目录。</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>容器</category>
      
    </categories>
    
    
    <tags>
      
      <tag>容器</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
